---
import "../styles/global.css";
import SiteHeader from "../components/SiteHeader.astro";
import RaffleBanner from "../components/RaffleBanner.astro";

const { title = "Friends of Lake Henry" } = Astro.props;
---

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
</head>
<body>
<SiteHeader />
<RaffleBanner />

<main class="siteMain">
    <div class="pageBg pageEnterBg" aria-hidden="true"></div>
    <div class="pageContent">
        <slot />
    </div>
</main>

<footer class="footer">
    <div class="container">
        <div class="footInner">
            <div>
                <strong>Friends of Lake Henry</strong>
                <div class="muted">A community nonprofit supporting lake restoration.</div>
            </div>
            <div class="muted">© {new Date().getFullYear()}</div>
        </div>
    </div>
</footer>
</body>
</html>

<style>
    /* Prevent sideways scroll when content starts offscreen */
    .siteMain {
        position: relative;
        min-height: calc(100vh - 160px);
        padding: 2rem 0 3rem;
        overflow: hidden;
    }

    /* This is the “page-wide” image background (main only) */
    .pageBg{
        position: absolute;
        inset: -24px;
        background-image: url("/images/hero.jpg");
        background-size: cover;
        background-position: center;
        transform: scale(1.02);
        z-index: 0;
        pointer-events: none;
    }

    /* Darken the image for readability (main only) */
    .pageBg::after{
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0,0,0,0.22);
    }

    .pageContent{
        position: relative;
        padding-top: 0.75rem;
        z-index: 1;
    }

    .footer{
        border-top: 1px solid var(--border);
        padding: 2rem 0;
        color: var(--muted);
        /* keep footer dark/solid like header */
        background: rgba(11,18,32,0.92);
        backdrop-filter: blur(10px);
    }
    .footInner{
        display:flex;
        justify-content:space-between;
        gap: 1rem;
        flex-wrap: wrap;
    }
    .muted{ color: var(--muted); }
</style>

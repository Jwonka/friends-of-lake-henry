---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { photos, type Photo } from "../../data/photos";

export function getStaticPaths() {
    return photos.map((p) => ({ params: { slug: p.slug }, props: { photo: p } }));
}

const { photo } = Astro.props;
---

<BaseLayout title={`${photo.category} Photo | Friends of Lake Henry`}>
    <div class="container" style="--maxw: 1100px;">
        <section class="card detailCard enter-block">
            <h1 style="margin-top: 1rem;">{photo.category}</h1>
            <div class="enter-block delay-1" style="margin-top: .5rem;">
                <a class="pill" href="/photos">‚Üê Back to Photos</a>
            </div>
            <div class="panel detailPanel enter-block delay-2">
                <img class="detailImg enter-block delay-2" src={photo.src} alt={photo.alt}/>
                <p style="margin-top: .75rem; opacity:.9">{photo.alt}</p>
                <p class="enter-block delay-3">
                    <a class="pill" href={photo.src} target="_blank" rel="noopener">Open original image</a>
                </p>
            </div>
        </section>
    </div>
    <style>
        .detailCard{
            margin-top: var(--section-gap);
        }

        .detailPanel{
            margin-top: 1rem;
            padding: 1.25rem 1.25rem;
        }

        .detailImg{
            width: 100%;
            height: auto;
            display: block;
            border-radius: 14px;
            object-fit: contain;
            background: rgba(0,0,0,0.18);
        }
    </style>
</BaseLayout>
